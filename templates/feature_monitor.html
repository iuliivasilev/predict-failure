{% extends "base.html" %}
{% block content %}
<div class="monitor-form">
    <form method="get" action="{{ url_for('feature_monitor') }}">
        <label for="collector">Тип оборудования:</label>
        <select name="collector" id="collector" onchange="this.form.submit()">
            {% for c in collectors %}
            <option value="{{ c }}" {% if c == selected_collector %}selected{% endif %}>{{ c }}</option>
            {% endfor %}
        </select>
        &nbsp;&nbsp;
        <label for="feature">Признак:</label>
        <select name="feature" id="feature" onchange="this.form.submit()">
            {% for f in features %}
            <option value="{{ f }}" {% if f == selected_feature %}selected{% endif %}>{{ f }}</option>
            {% endfor %}
        </select>
    </form>
</div>
<div class="chart-container">
    <canvas id="featureChart"></canvas>
</div>
<script>
    const chartData = {{ chart_data|tojson }};
    const selectedFeature = "{{ selected_feature }}";
</script>
<script src="{{ url_for('static', filename='monitoring.js') }}"></script>
{% endblock %}